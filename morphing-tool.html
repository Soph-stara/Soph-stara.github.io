<!DOCTYPE html>
<html>
<head>
    <title>EPW Morphing Tool - Sophie Hamann</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <style>
        body {
            background-color: pink;
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
        }
        h1, h2, h3 {
            color: #333;
        }
        .navigation {
            margin: 20px 0;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.6);
            border-radius: 8px;
        }
        .navigation a {
            margin-right: 15px;
            color: #333;
            text-decoration: none;
            font-weight: bold;
        }
        .navigation a:hover {
            text-decoration: underline;
            color: #ff69b4;
        }
        .tool-container {
            margin-top: 20px;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.6);
            border-radius: 8px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="file"], input[type="text"], select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: white;
        }
        button {
            background-color: #ff69b4;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }
        button:hover {
            background-color: #ff5ba7;
        }
        .status {
            margin-top: 15px;
            padding: 10px;
            border-radius: 4px;
            display: none;
        }
        .status.success {
            background-color: #d4edda;
            color: #155724;
        }
        .status.error {
            background-color: #f8d7da;
            color: #721c24;
        }
        .result-section {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            display: none;
        }
    </style>
</head>
<body>
    <h1>EPW Morphing Tool</h1>
    
    <!-- Navigation -->
    <div class="navigation">
        <a href="index.html">Home</a>
        <a href="morphing-tool.html">Morphing Tool</a>
    </div>
    
    <div class="tool-container">
        <h2>Climate Data Morphing Tool</h2>
        <p>This tool allows you to generate future weather files based on climate change scenarios.</p>
        
        <div id="info-panel">
            <p><strong>Note:</strong> This is a web interface to the EPW Morphing Tool developed at infrared.city. 
            The tool processes EPW (EnergyPlus Weather) files to create future climate scenarios.</p>
            
            <p>Visit <a href="https://energyplus.net/weather" target="_blank">EnergyPlus Weather</a> to download EPW files for your location.</p>
        </div>
        
        <div id="morphing-tool">
            <form id="processing-form">
                <div class="form-group">
                    <label for="epw-file">Upload EPW File:</label>
                    <input type="file" id="epw-file" accept=".epw">
                </div>
                
                <div class="form-group">
                    <label for="city">City Name:</label>
                    <input type="text" id="city" placeholder="e.g., Vienna">
                </div>
                
                <div class="form-group">
                    <label for="scenario">Climate Scenario:</label>
                    <select id="scenario">
                        <option value="ssp126">SSP1-2.6 (Sustainability)</option>
                        <option value="ssp245">SSP2-4.5 (Middle of the Road)</option>
                        <option value="ssp370">SSP3-7.0 (Regional Rivalry)</option>
                        <option value="ssp585">SSP5-8.5 (Fossil-fueled Development)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="period">Future Time Period:</label>
                    <select id="period">
                        <option value="2020-2024">2020-2024</option>
                        <option value="2040-2044">2040-2044</option>
                        <option value="2080-2084">2080-2084</option>
                    </select>
                </div>
                
                <button type="submit">Process EPW File</button>
            </form>
            
            <div id="status" class="status"></div>
            
            <div id="result-section" class="result-section">
                <h3>Processing Complete</h3>
                <p>Your request has been sent to the server. Due to the complexity of climate data processing, results will be sent to your email when ready.</p>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('processing-form');
            const status = document.getElementById('status');
            const resultSection = document.getElementById('result-section');
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validate form
                const epwFile = document.getElementById('epw-file').files[0];
                const city = document.getElementById('city').value.trim();
                
                if (!epwFile) {
                    showError('Please select an EPW file to upload');
                    return;
                }
                
                if (!city) {
                    showError('Please enter a city name');
                    return;
                }
                
                // Show success message (simulating submission)
                showSuccess('Your EPW file has been uploaded and the processing request has been submitted.');
                resultSection.style.display = 'block';
                
                // In a real implementation, you would send this data to your API
                // For example:
                /*
                const formData = new FormData();
                formData.append('file', epwFile);
                formData.append('city', city);
                formData.append('scenario', document.getElementById('scenario').value);
                formData.append('period', document.getElementById('period').value);
                
                fetch('https://your-api-url.com/process', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        showSuccess('Your EPW file has been uploaded and the processing request has been submitted.');
                        resultSection.style.display = 'block';
                    } else {
                        showError('Error: ' + data.message);
                    }
                })
                .catch(error => {
                    showError('Error connecting to server: ' + error.message);
                });
                */
            });
            
            function showError(message) {
                status.textContent = message;
                status.className = 'status error';
                status.style.display = 'block';
            }
            
            function showSuccess(message) {
                status.textContent = message;
                status.className = 'status success';
                status.style.display = 'block';
            }
        });
    </script>
</body>
</html>